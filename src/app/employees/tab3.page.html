<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Employee
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-title>
        <img src="./assets/icon/logo.png" alt="planzone" style="width: 12rem;" />
        <ion-button style="float:right" (click)="logOut()" end>Logout</ion-button> 
      </ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-item>
    <ion-button fill="outline" slot="end" size="small" (click)="showEmployeeForm()"><ion-icon name="add-outline"></ion-icon> Create Employee</ion-button>
    </ion-item>

    <ion-grid *ngIf="flagEmployeeList">
      <ion-row>
        <ion-col>
          <h4>Lists of employees</h4>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col>
          <ion-item-sliding *ngFor="let de of designers; let i = index;">
            <ion-card [style.background]="backgroundVar" [style.color]="colorVar" class="p1">
              <ion-label>
                <ion-row>
                  <ion-col col-6>
                    <h2 class="ion-text-uppercase" color="primary"><ion-icon name="color-fill"></ion-icon> {{de.designer}}</h2>
                    <p>Earned: {{de.earned}} - Reward: {{de.reward}}</p>
                  </ion-col>
                  <ion-col col-6 class="ion-text-end">
                    <ion-toolbar>
                      <p [style.color]="colorVar" *ngIf="de.total_amount">TOTAL AMOUNT: <span>{{de.total_amount}}</span></p>
                      <p [style.color]="colorVar" *ngIf="de.total_paid">PENDING AMOUNT: <span>{{de.total_amount - de.total_paid}} </span></p>
                      <ion-button slot="end" (click)="deleteEmployee(de, i)"><ion-icon name="trash-outline"></ion-icon></ion-button>
                    </ion-toolbar>
                  </ion-col>
                </ion-row>
              </ion-label>
            </ion-card>
          </ion-item-sliding> 
        </ion-col>
      </ion-row>
    </ion-grid>




<div class="p3" *ngIf="flagEmploeeForm" [style.background]="backgroundVar" [style.color]="colorVar">
  <h4>New Employee Registration</h4>
  <form [formGroup]="employe" (ngSubmit)="addEmpForm()">
    <ion-item>
      <ion-label>Employee Name</ion-label>
      <ion-input type="text" formControlName="employeeName"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Employee Code</ion-label>
      <ion-input type="text" formControlName="employeeCode"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Reward Point</ion-label>
      <ion-input type="number" formControlName="rewardPoint"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label>Date of registration</ion-label>
      <ion-datetime displayFormat="YYYY/MM/DD" value="2020-05-10" display-timezone="utc" formControlName="employeeDate"></ion-datetime>
    </ion-item>

    <ion-item>
      <ion-label>Earned <strong>Rupees</strong></ion-label>
      <ion-input type="number" formControlName="earned"></ion-input>
    </ion-item>  
    <ion-item>
      <ion-button type="submit" size="medium" [disabled]="!employe.valid" color="primary">Submit</ion-button>
      <ion-button type="button" size="medium" (click)="employeeFormCancel()" color="secondary">Cancel</ion-button>
    </ion-item> 
    
  </form>
  
</div>     
</ion-content>  
 
  
